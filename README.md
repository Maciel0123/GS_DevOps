# futureStack - ClimaESP

Sistema inteligente de monitoramento clim√°tico com base em dados coletados por dispositivos IoT e pesquisas por cidade. Inclui hist√≥rico de buscas e favoritos por usu√°rio, com persist√™ncia em banco de dados e autentica√ß√£o via JWT.

## üìã Descri√ß√£o da Solu√ß√£o

O ClimaESP √© uma solu√ß√£o tecnol√≥gica que permite o monitoramento e a consulta de dados clim√°ticos como temperatura, umidade, chuva, vento etc.., com base nas cidades pesquisadas pelos usu√°rios.

Utilizando dispositivos IoT para coleta em tempo real, os dados s√£o armazenados em um banco de dados e apresentados de forma acess√≠vel, contribuindo para a conscientiza√ß√£o ambiental, planejamento de atividades e preven√ß√£o de riscos clim√°ticos como enchentes ou ondas de calor.

Cada cidade pesquisada √© registrada em um hist√≥rico e pode ser favoritada, facilitando o acompanhamento cont√≠nuo por parte de agricultores, moradores e gestores p√∫blicos. O ClimaESP combina tecnologia e boas pr√°ticas para ajudar pessoas, proteger o meio ambiente e antecipar problemas causados por mudan√ßas clim√°ticas.

## Essa API permite:

- Consulta de dados clim√°ticos por cidade
- Registro de hist√≥rico de pesquisas por usu√°rio
- Marcar cidades como favoritas
- Cadastro e login de usu√°rios com autentica√ß√£o JWT
- Pagina√ß√£o, ordena√ß√£o e filtros
- Valida√ß√£o de dados com Bean Validation

## Principais Endpoints (CRUD):

- üåÜ Dados Clim√°ticos

Listar todos os dados
GET /dados

```
http://localhost:8080/dados
```

Listar por cidade + salvar no hist√≥rico (autenticado)
GET /dados?cidade=Campinas&idUsuario=1&page=0&size=10

```
http://localhost:8080/dados?cidade=Campinas&idUsuario=8
```

- üíæ Hist√≥rico de Pesquisas

Listar hist√≥rico do usu√°rio
GET /historico/{idUsuario}

```
http://localhost:8080/historico/8
```

- ‚≠ê Favoritos

Favoritar cidade
POST /favoritos
Body (JSON):

```
{
  "idUsuario": 8,
  "cidade": "S√£o Paulo",
  "latApi": -23.5505,
  "lonApi": -46.6333
}
```

Listar favoritos de um usu√°rio
GET /favoritos/{idUsuario}

```
http://localhost:8080/favoritos/8
```

Remover favorito
DELETE /favoritos/{idFavorito}

```
http://localhost:8080/favoritos/8
```

- üë§ Usu√°rio

Criar novo usu√°rio
POST /users

```
{
  "nomeUser": "LauraSilva",
  "email": "laura@email.com",
  "password": "129056"
}
```

Login com JWT
POST /login

```
{
  "email": "maria@email.com",
  "password": "123456"
}
```

## üöÄ Tecnologias Utilizadas

- Java 17
- Spring Boot 
- Spring Web
- Spring Data JPA
- Spring Security + JWT
- Spring Validation (Bean Validation)
- Lombok
- Swagger
- Oracle

## üõ†Ô∏è Como Rodar o Projeto Localmente

1. **Clone o reposit√≥rio:**

```bash
https://github.com/MaryChriss/gs-java1.git
cd gs-java1
```

2. **.env**
Crie um arquivo .env na raiz do projeto com as informa√ß√µes do banco de dados:

```bash
DB_URL=jdbc:oracle:thin:@oracle.fiap.com.br:PORTA:SID
DB_USER=RM******
DB_PASSWORD=******
```

4. **Importante**
Para rodar localmente, altere o package da classe principal GsApplication para:

```
public static void main(String[] args) {

        Dotenv dotenv = Dotenv.configure().load();

        System.setProperty("DB_URL", dotenv.get("DB_URL"));
        System.setProperty("DB_USER", dotenv.get("DB_USER"));
        System.setProperty("DB_PASSWORD", dotenv.get("DB_PASSWORD"));

        SpringApplication.run(GsApplication.class, args);
    }
```

## üß† Links

-Deploy Nuvem:
```
http://191.232.36.235:8080/
```

- Swagger
```
http://localhost:8080/swagger-ui/index.html#/
```

- Repositorio Front-End:
```
https://github.com/MaryChriss/gs-mobile1
```
  
## üë• Integrantes

- Mariana Christina RM: 554773
- Gabriela Moguinho RM: 556143
- Henrique Maciel RM: 556480
